<!DOCTYPE html>
<html>
  
  <head>
    <title>REGALS</title>
    
    <!-- JsPsych and Plugins -->
    <script src="jspsych/jspsych.js"></script>
    <script src="jspsych/plugin-html-keyboard-response.js"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@1.0.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-likert@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.4"></script>

    <script src="consent.js"></script>
    <script src="instructions.js"></script>
    <script src="LLMCases.js"></script>
    <script src="lawyerCases.js"></script>

    <link href="jspsych/jspsych.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" href="style.css">

  </head>
  
  <body></body>
  
  <script>
    const jsPsych = initJsPsych();

    var timeline = [];

    timeline.push(consent)
    timeline.push(instructions)

    
    var cases_LLM = jsPsych.randomization.shuffle(tax_cases_LLM.concat(plan_cases_LLM, prop_cases_LLM))
    var cases_Lawyer = jsPsych.randomization.shuffle(tax_cases_Lawyer.concat(plan_cases_Lawyer, prop_cases_Lawyer))
    //cases_Lawyer = jsPsych.randomization.shuffle(cases_Lawyer)

    var all_cases = jsPsych.randomization.shuffle(cases_LLM.concat(cases_Lawyer));


    // Define the number of cases for each participant
    var num_cases = 2;

    var rnd_id = Math.floor(Math.random() * 100);
    console.log(rnd_id);

    var blinded = ""

    if (rnd_id % 2 == 0) {
      blinded = "Lawyer Generate";
    }

    for (let i = 0; i < num_cases; i++) {
      

      timeline.push({
        timeline: [{
          type: jsPsychSurveyLikert,
          questions: [{
            prompt: `<h3>Case ${i+1}, ${blinded}</h3> ${all_cases[i]}`,
            labels: [
              "1: Strongly Disagree",
              "2",
              "3",
              "4",
              "5: Neutral",
              "6",
              "7",
              "8",
              "9: Strongly Agree"
            ],
            //required: true
          }]
        }]
      });
    }
    timeline.push(debrief)

    jsPsych.run(timeline);

  </script>

</html>
