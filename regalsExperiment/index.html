<!DOCTYPE html>
<html>
  
  <head>
    <title>REGALS</title>
    
    <!-- JsPsych and Plugins -->
    <script src="jspsych/jspsych.js"></script>
    <script src="jspsych/plugin-html-keyboard-response.js"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@1.0.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-likert@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.4"></script>

    <script src="welcome.js"></script>
    <script src="LLMCases.js"></script>
    <script src="lawyerCases.js"></script>

    <link href="jspsych/jspsych.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
      p{
        max-width: 100%;
      }

      .jspsych-content-wrapper{
        max-width: 70%;
      }
      
      #jspsych-content{
        text-align: left;
        padding-bottom: 5%;
      }

      #jspsych-html-keyboard-response-stimulus{
        text-align: left;
      }

      .jspsych-btn{
        float:center;
      }

      .jspsych-survey-likert-statement{
        text-align: center;
      }

    </style>
  </head>
  
  <body></body>
  
  <script>
    const jsPsych = initJsPsych();

    var timeline = [];

    
    timeline.push(welcome)

    var instructions = {
      type: jsPsychInstructions,
      pages: [ 
        `<p>In this experiment you will be presented with short descriptions 
          of legal cases.</p>
        <p>Following each case, you will be presented with legal advice. </p>
        <p>Please rank on the subsequently presented scale how confident you 
          would be to act on the advice provided.</p>
        <p>Press any key to begin.</p>`,
        ],
      show_clickable_nav: true,
      allow_backward: false
    };
    timeline.push(instructions)

    var cases_LLM = tax_cases_LLM.concat(plan_cases_LLM, prop_cases_LLM)
    cases_LLM = jsPsych.randomization.shuffle(cases_LLM)

    var cases_Lawyer = tax_cases_Lawyer.concat(plan_cases_Lawyer, prop_cases_Lawyer)
    cases_Lawyer = jsPsych.randomization.shuffle(cases_Lawyer)

    var all_cases = jsPsych.randomization.shuffle(cases_LLM, cases_Lawyer)

    for (let i = 0; i < all_cases.length; i++) {
      timeline.push({
        timeline: [{
          type: jsPsychSurveyLikert,
          questions: [{
            prompt: `<h3>Case ${i+1}</h3> ${all_cases[i]}`,
            labels: [
              "1: Strongly Disagree",
              "2",
              "3",
              "4",
              "5: Neutral",
              "6",
              "7",
              "8",
              "9: Strongly Agree"
            ],
            required: true
          }]
        }]
      });
    }

    jsPsych.run(timeline);
  </script>

</html>
